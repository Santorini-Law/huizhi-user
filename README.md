# something
一些平时脑子一抽 写的一些小玩意 

## 灰度功能

https://yinglishzhi.github.io/2020/02/28/greyPlan/

## Redis缓存

暂时没好好写 之前写过一个比较通用的 哪天闲了 整上来


## 分库分表
用户分库分表 策略 8库 每库8张表


```
 分库策略 user_(uid / 8 % 8)
 分表策略 user_base_(uid % 8)
[ub0  ub1  ub2  ub3  ub4  ub5  ub6  ub7 ]                                          
[ 0    1    2    3    4    5    6    7  ] user_0  0 % 8 0
[ 8    9   10   11   12   13   14   15  ] user_1  1 % 8 1
[16   17   18   19   20   21   22   23  ] user_2  2 % 8 2
....
[64   65   66   67   68   69   70   71  ] user_0  8 % 8 0
[72   73   74   75   76   77   78   79  ] user_1  9 % 8 1
[80   81   82   83   84   85   86   87  ] user_2 10 % 8 2
[88   89   90   91   92   93   94   95  ] user_3 11 % 8 3
[96   97   98   99   100  101  102  103 ] user_4 12 % 8 4
[104  105  106  107  108  109  110  111 ] user_5 13 % 8 5
[112  113  114  115  116  117  118  119 ] user_6 14 % 8 6
[120  121  122  123  124  125  126  127 ] user_7 15 % 8 7
[128  129  130  131  132  133  134  135 ] user_1 16 % 8 0

```